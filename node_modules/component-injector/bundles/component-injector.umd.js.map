{"version":3,"file":"component-injector.umd.js","sources":["ng://component-injector/lib/component-injector.ts","ng://component-injector/lib/component-injector.module.ts"],"sourcesContent":["import {\n  Component,\n  ComponentFactory,\n  ComponentFactoryResolver, ComponentRef,\n  Injectable,\n  Type,\n  ViewContainerRef\n} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ComponentInjector {\n  public static entryComponentsFactories: ComponentFactory<any>[] = [];\n\n\n  constructor(private resolver: ComponentFactoryResolver) {\n\n  }\n\n  public setComponentFactories(componentsList: Type<Component>[]): void {\n    if (componentsList) {\n      componentsList.forEach((component: Type<Component>) => {\n        let factory = this.resolver.resolveComponentFactory(component);\n        if (factory) {\n          ComponentInjector.entryComponentsFactories.push(factory);\n        }\n      });\n    }\n  }\n\n  inject(container: ViewContainerRef, componentSelector: string): ComponentRef<any> | null {\n    let componentFactory: ComponentFactory<any> = this.getComponentFactory(componentSelector);\n    if (componentFactory) {\n      return this.injectComponentFactory(container, componentFactory);\n    }\n    else {\n      console.warn('Component [' + componentSelector + '] cannot be found! ' +\n        'Make sure it is included in the `entryComponents` list.');\n    }\n\n    return null;\n  }\n\n  setProperties(componentRef: ComponentRef<any>, properties: any): void {\n    if (componentRef) {\n      for (let property in properties) {\n        if (properties.hasOwnProperty(property)) {\n          componentRef.instance[property] = properties[property];\n        }\n      }\n    }\n  }\n\n  remove(componentRef: ComponentRef<any> | null): void {\n    if (componentRef) {\n      componentRef.destroy();\n    }\n    componentRef = null;\n  }\n\n  protected getComponentFactory(componentSelector: string): ComponentFactory<any> {\n    let factories = ComponentInjector.entryComponentsFactories;\n    let componentFactory: any = factories.find((component: any) => {\n      return component.selector === componentSelector;\n    });\n\n    return componentFactory ? componentFactory : null;\n  }\n\n  protected injectComponentFactory(container: ViewContainerRef, componentFactory: ComponentFactory<any>): ComponentRef<any> {\n    return container.createComponent(componentFactory);\n  }\n}\n","import { NgModule } from '@angular/core';\n\n@NgModule({\n  declarations: [],\n  imports: [],\n  exports: []\n})\nexport class ComponentInjectorModule { }\n"],"names":["Injectable","ComponentFactoryResolver","NgModule"],"mappings":";;;;;;;;;;AAAA;QAgBE,2BAAoB,QAAkC;YAAlC,aAAQ,GAAR,QAAQ,CAA0B;SAErD;;;;;QAEM,iDAAqB;;;;QAA5B,UAA6B,cAAiC;YAA9D,iBASC;YARC,IAAI,cAAc,EAAE;gBAClB,cAAc,CAAC,OAAO;;;;gBAAC,UAAC,SAA0B;;wBAC5C,OAAO,GAAG,KAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,SAAS,CAAC;oBAC9D,IAAI,OAAO,EAAE;wBACX,iBAAiB,CAAC,wBAAwB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;qBAC1D;iBACF,EAAC,CAAC;aACJ;SACF;;;;;;QAED,kCAAM;;;;;QAAN,UAAO,SAA2B,EAAE,iBAAyB;;gBACvD,gBAAgB,GAA0B,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC;YACzF,IAAI,gBAAgB,EAAE;gBACpB,OAAO,IAAI,CAAC,sBAAsB,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;aACjE;iBACI;gBACH,OAAO,CAAC,IAAI,CAAC,aAAa,GAAG,iBAAiB,GAAG,qBAAqB;oBACpE,yDAAyD,CAAC,CAAC;aAC9D;YAED,OAAO,IAAI,CAAC;SACb;;;;;;QAED,yCAAa;;;;;QAAb,UAAc,YAA+B,EAAE,UAAe;YAC5D,IAAI,YAAY,EAAE;gBAChB,KAAK,IAAI,QAAQ,IAAI,UAAU,EAAE;oBAC/B,IAAI,UAAU,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;wBACvC,YAAY,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC;qBACxD;iBACF;aACF;SACF;;;;;QAED,kCAAM;;;;QAAN,UAAO,YAAsC;YAC3C,IAAI,YAAY,EAAE;gBAChB,YAAY,CAAC,OAAO,EAAE,CAAC;aACxB;YACD,YAAY,GAAG,IAAI,CAAC;SACrB;;;;;;QAES,+CAAmB;;;;;QAA7B,UAA8B,iBAAyB;;gBACjD,SAAS,GAAG,iBAAiB,CAAC,wBAAwB;;gBACtD,gBAAgB,GAAQ,SAAS,CAAC,IAAI;;;;YAAC,UAAC,SAAc;gBACxD,OAAO,SAAS,CAAC,QAAQ,KAAK,iBAAiB,CAAC;aACjD,EAAC;YAEF,OAAO,gBAAgB,GAAG,gBAAgB,GAAG,IAAI,CAAC;SACnD;;;;;;;QAES,kDAAsB;;;;;;QAAhC,UAAiC,SAA2B,EAAE,gBAAuC;YACnG,OAAO,SAAS,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC;SACpD;QA3Da,0CAAwB,GAA4B,EAAE,CAAC;;oBAJtEA,eAAU,SAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;;oBARCC,6BAAwB;;;gCAH1B;KASA;;;;;;ACTA;QAEA;SAKwC;;oBALvCC,aAAQ,SAAC;wBACR,YAAY,EAAE,EAAE;wBAChB,OAAO,EAAE,EAAE;wBACX,OAAO,EAAE,EAAE;qBACZ;;QACsC,8BAAC;KALxC;;;;;;;;;;;;;"}